<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../CSS/Listings.css">
  <link href="https://api.fontshare.com/v2/css?f[]=tanker@400&display=swap" rel="stylesheet">
  <link rel="icon" href="../Images/Found It! Logo - Reimagined.png" type="image/png">
  <title>Listings</title>
</head>
<body>
  
  <nav class="nav-bar">
    <div class="nav-div">
      <div class="logo">
        <a href="#"><img src="../Images/Found It! Logo - Reimagined.png"></a>
        <h1>FOUND IT!</h1>
      </div>
      <div class="nav-buttons">
        <ul>
          <form action="../PHP/Logout.php" method="POST">
            <button class="add-button"><a href="AddList.html">ADD LIST</a></button>
            <button class="out-button" type="submit"><a href="../PHP/Logout.php">SIGN OUT</a></button>
          </form>
        </ul>
      </div>
    </div>
  </nav>

  <div class="head">
    <h3 class="h3-lost-items">LOST ITEMS</h3>
    <div class="lost-item-separator" id="lostItemsContainer">
      <div class="lost-items-div">
        <div class="card-body">
          <img class="cardImg-2" src="../Images/Listings Page/Lost Item - ID.jpg" id="img1">
          <h3 class="itemName-1">School ID</h3>
          <p class="description-1">A student-owned PLMun ID</p>
          <p class="location-1"><strong>Last Seen:</strong> Covered-court</p>
          <p class="time-1"><strong>Time:</strong> 5:00 PM</p>
          <p class="founderName-1"></p>
          <p class="phoneNumber-1"></p>
        </div>
      </div>
      <div class="lost-items-div">
        <div class="card-body">
          <img class="cardImg-2" src="../Images/Listings Page/Lost Item - Laptop.jpg">
          <h3 class="itemName-2">Acer Laptop</h3>
          <p class="description-2">Black in Color, Brand New Acer Laptop</p>
          <p class="location-2"><strong>Last Seen:</strong> Fields</p>
          <p class="time-2"><strong>Time:</strong> 3:00 PM</p>
          <p class="founderName-2"></p>
          <p class="phoneNumber-2"></p>
        </div>
      </div>
      <div class="lost-items-div">
        <div class="card-body">
          <img class="cardImg-2" src="../Images/Listings Page/Lost Item - Notebook.jpg">
          <h3 class="itemName-3">Green Apple Notebook</h3>
          <p class="description-3">A notebook with a green cover.</p>
          <p class="location-3"><strong>Last Seen:</strong> Room 201</p>
          <p class="time-3"><strong>Time:</strong> 9:00 AM</p>
          <p class="founderName-3"></p>
          <p class="phoneNumber-3"></p>
        </div>
      </div>
    </div>
  </div>

  <div class="head-2">
    <h3 class="h3-found-items">FOUND ITEMS</h3>
    <div class="lost-item-separator" id="foundItemsContainer">
      <div class="lost-items-div">
        <div class="card-body">
          <img class="cardImg-2" src="../Images/Listings Page/Found Item - Bag.jpg">
          <h3 class="itemName-5">School Bag</h3>
          <p class="description-5">A school bag that is black in color and pretty big compared to other bags.</p>
          <p class="location-5"><strong>Found at:</strong> Room 205</p>
          <p class="time-5"><strong>Time:</strong> 1:00 PM</p>
          <p class="founderName-5"><strong>Founder:</strong> James Tiu</p>
          <p class="phoneNumber-5"><strong>Phone Number:</strong> +639XXXXXXXXX</p>
        </div>
      </div>
      <div class="lost-items-div">
        <div class="card-body">
          <img class="cardImg-2" src="../Images/Listings Page/Found Item - Glasses.jpg">
          <h3 class="itemName-6">Glasses</h3>
          <p class="description-6">Prescription glasses, looks like a Ray-Ban.</p>
          <p class="location-6"><strong>Found at:</strong> Room 305</p>
          <p class="time-6"><strong>Time:</strong> 9:30 AM</p>
          <p class="founderName-6"><strong>Founder:</strong> Ian Tan</p>
          <p class="phoneNumber-6"><strong>Phone Number:</strong> +639XXXXXXXXX</p>
        </div>
      </div>
      <div class="lost-items-div">
        <div class="card-body">
          <img class="cardImg-2" src="../Images/Listings Page/Found Item - Gloves.jpg">
          <h3 class="itemName-7">Gloves</h3>
          <p class="description-7">Gloves that is brown in color.</p>
          <p class="location-7"><strong>Found at:</strong> Room 213</p>
          <p class="time-7"><strong>Time:</strong> 11:35 AM</p>
          <p class="founderName-7"><strong>Founder:</strong> Philip Salvador</p>
          <p class="phoneNumber-7"><strong>Phone Number:</strong> +639XXXXXXXXX</p>
        </div>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const listings = JSON.parse(localStorage.getItem('listings')) || [];

      listings.forEach(listing => {
        const newItemElement = createItemElement(
          listing.itemName,
          listing.itemDescription,
          listing.itemLocation,
          listing.founderName,
          listing.phoneNumber,
          listing.imageUrl,
          listing.status,
          listing.date
        );

        if (listing.status === 'LOST') {
          document.getElementById('lostItemsContainer').appendChild(newItemElement);
        } else if (listing.status === 'FOUND') {
          document.getElementById('foundItemsContainer').appendChild(newItemElement);
        }
      });
    });

    function createItemElement(itemName, itemDescription, itemLocation, founderName, phoneNumber, imageUrl, status, createDate) {
      var itemDiv = document.createElement('div');
      itemDiv.classList.add('lost-items-div');

      var cardBody = document.createElement('div');
      cardBody.classList.add('card-body');

      var itemImage = document.createElement('img');
      itemImage.classList.add('cardImg-2');
      itemImage.src = imageUrl;

      var itemNameHeader = document.createElement('h3');
      itemNameHeader.textContent = itemName;

      var itemDescriptionPara = document.createElement('p');
      itemDescriptionPara.textContent = itemDescription;

      var itemLocationPara = document.createElement('p');
      itemLocationPara.innerHTML = `<strong>${status === 'LOST' ? 'Last Seen:' : 'Found at:'}</strong> ${itemLocation}`;

      var itemDatePara = document.createElement('p');
      itemDatePara.innerHTML = `<strong>Time:</strong> ${createDate}`;

      cardBody.appendChild(itemImage);
      cardBody.appendChild(itemNameHeader);
      cardBody.appendChild(itemDescriptionPara);
      cardBody.appendChild(itemLocationPara);
      cardBody.appendChild(itemDatePara);

      if (status === 'FOUND') {
        var itemFounderPara = document.createElement('p');
        itemFounderPara.innerHTML = `<strong>Founder:</strong> ${founderName}`;

        var itemTelPara = document.createElement('p');
        itemTelPara.innerHTML = `<strong>Phone Number:</strong> ${phoneNumber}`;

        cardBody.appendChild(itemFounderPara);
        cardBody.appendChild(itemTelPara);
      }

      itemDiv.appendChild(cardBody);
      return itemDiv;
    }
  </script>

</body>
</html>
